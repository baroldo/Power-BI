VAR SelectedCategory = SELECTEDVALUE('GroupBySelector'[GroupBySelector], "All")

VAR GroupedTable =
    ADDCOLUMNS(
        ALLSELECTED('MARGIN_DECILIES'),
        "GroupValue",
            SWITCH(
                SelectedCategory,
                "INDUSTRY", 'MARGIN_DECILIES'[INDUSTRY],
                "PROD_CAT", 'MARGIN_DECILIES'[PROD_CAT],
                "SECTOR_DESC", 'MARGIN_DECILIES'[SECTOR_DESC],
                "All", "All"
            ),
        "CustomerMargin", 'MARGIN_DECILIES'[CustomerPercentileRankIncremental]
    )
